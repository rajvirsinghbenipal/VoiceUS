
<style>
  /* Controls container is now just for the scrollbar */
  .swiper-controls {
    position: relative;
    margin-top: 2rem; /* Space between slider and scrollbar */
    /* Padding to contain the scrollbar nicely */
    padding: 0 1rem;
  }

  /* --- Scrollbar Styles --- */
  .swiper-scrollbar {
    position: static;
    height: 6px;
    background: rgba(0, 0, 0, 0.1); /* Light theme scrollbar track */
    width: 100%;
  }
  .dark .swiper-scrollbar {
    background: rgba(255, 255, 255, 0.15); /* Dark theme scrollbar track */
  }
  .swiper-scrollbar-drag {
    background: #000; /* Light theme scrollbar handle */
    border-radius: 6px;
  }
  .dark .swiper-scrollbar-drag {
    background: #fff; /* Dark theme scrollbar handle */
  }

  /* --- Navigation Arrow Styles --- */
  .swiper-button-next::after,
  .swiper-button-prev::after {
    font-size: 1.25rem !important;
    font-weight: 900;
    color: #000;
  }
  .dark .swiper-button-next::after,
  .dark .swiper-button-prev::after {
    color: #fff;
  }
  .swiper-button-next,
  .swiper-button-prev {
    width: 0.75rem;
    height: 2.75rem;
    top: 43%;
    position: absolute;
  }

  .swiper-slide {
      flex-shrink: 0;
  }
</style>
<center style="margin-top: 25px;"><h2>Our Latest Scare</h2></center>

<div class="container py-12">
  <div class="swiper relative" id="news-feature">
    <div class="swiper-wrapper">
      {{ range where (where .Site.RegularPages "Section" "news") ".Params.breakingNews" true }}
     <article class="border border:black rounded-lg p-4 swiper-slide shadow-md w-[400px]">
        <div class="dark:border-white rounded p-4">
          <div class="grid grid-cols-2 gap-6 items-center max-md:grid-cols-1">
           {{ $image := .Params.featureImage }}
<img
  src="{{ with $image }}{{ printf "/images/featureImage/%s" . | relURL }}{{ else }}{{ "/images/common/placeholder.png" | relURL }}{{ end }}"
  alt="News Image"
  class="w-full rounded-lg object-cover"   // h-64
/>

            <div>
              <div class="mb-2 flex flex-wrap items-center gap-2">
                <span class="inline-block px-3 py-1 text-sm bg-primary-100 text-primary-700 rounded-full">
                   {{ with .Params.newsCategories }}
                  {{ range . }}
                    <a href="{{ "/newscategories/" | absURL }}{{ . | urlize }}" class="badge badge-category">{{ . }}</a>
                  {{ end }}
                {{ end }}
                </span>
               {{ with .Params.newsTags }}
                  {{ range . }}
                    <a href="{{ "/newstags/" | absURL }}{{ . | urlize }}" class="badge badge-tag">{{ . }}</a>
                  {{ end }}
                {{ end }}
              </div>
              <a href="{{ .Permalink }}">
                <h3 class="text-xl font-semibold mb-2 text-gray-900 dark:text-white">{{ .Title }}</h3>
              </a>
              <div class="flex gap-2 items-center text-sm text-gray-600 dark:text-gray-400 mb-2">
                <span>{{ with .Params.author }}{{ . }}{{ else }}Admin{{ end }}</span>
                {{ with .Date }}
                <span>â€¢</span>
                <span>{{ . | time.Format ":date_medium" }}</span>
                {{ end }}
              </div>
              <p class="text-gray-700 dark:text-gray-300">
                {{ with .Params.description }}{{ . | truncate 120 }}{{ else }}No description available.{{ end }}
              </p>
            </div>
          </div>
        </div>
      </article>
      {{ else }}
      <p class="text-center text-gray-500 swiper-slide">No breaking news found.</p>
      {{ end }}
    </div>

    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>

    <div class="swiper-controls">
      <div class="swiper-scrollbar"></div>
      </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const newsSwiper = new Swiper('#news-feature', {
      slidesPerView: 'auto',
      spaceBetween: 24,
      freeMode: true,
      mousewheel: true,
      grabCursor: true,
      autoplay: {
        delay: 5000, // 3000 milliseconds = 3 seconds
        disableOnInteraction: false, // Continue autoplay even when user interacts with the slider
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      scrollbar: {
        el: '.swiper-scrollbar',
        draggable: true,
        hide: false,
      },
    });
  });
</script>